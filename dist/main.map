{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 31901229bc2efe6f062b","webpack:///./src/fbs-authentication.service.js","webpack:///./src/index.js","webpack:///./index.js"],"names":["FbsAuthenticationService","constructor","init","config","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","fbaseScripts","window","firebase","initializeApp","index","length","script","document","createElement","src","type","done","onload","onreadystatechange","readyState","getElementsByTagName","appendChild","firebaseui","fbaseUi","auth","AuthUI","handleSignedOutUser","getElementById","style","display","start","getUiConfig","user","credential","redirectUrl","handleSignedInUser","provider","GoogleAuthProvider","PROVIDER_ID","scopes","FacebookAuthProvider","TwitterAuthProvider","GithubAuthProvider","EmailAuthProvider","requireDisplayName","PhoneAuthProvider","textContent","displayName","email","phoneNumber","photoURL","signOut","addEventListener","signInWithPopup","open","getWidgetUrl","fbsAuthentication"],"mappings":"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","file":"main.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"fbs-authentication\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"fbs-authentication\"] = factory();\n\telse\n\t\troot[\"fbs-authentication\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/Users/vbhatt/authentication\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 31901229bc2efe6f062b","/**\n * A Service to handle all the functionality needed in the Header\n * for the functionality of the share icons\n * @class FbsSharingService\n */\nexport default class FbsAuthenticationService {\n  /**\n   * Creates an instance of FbsSharingService.\n   * @param {string} width - width of the window to share on\n   * @param {string} height - height of the window to share on\n   * @param {boolean} isResizable - if true, window is resizable\n   * @param {string} windowName - reference name of the window\n   * @param {string} article - article to post in the share window\n   * @memberof FbsSharingService\n   */\n\n  constructor() {\n    // The different urls used to share articles to different social platforms\n\n    // set the default config object for the new share window to open\n    this.init();\n  }\n\n  init () {\n    let config = {\n      apiKey: \"AIzaSyAaNgSoOVn97vPUuozBT0AggY6vDP4D3Jw\",\n      authDomain: \"fbs-auth.firebaseapp.com\",\n      databaseURL: \"https://fbs-auth.firebaseio.com\",\n      projectId: \"fbs-auth\",\n      storageBucket: \"fbs-auth.appspot.com\",\n      messagingSenderId: \"972288649195\"\n    };\n\n    let fbaseScripts = [\n      '<script src=\"https://www.gstatic.com/firebasejs/4.5.0/firebase.js\"></script>',\n      '<script>' + window.firebase.initializeApp(config) + '</script>',\n      '<script src=\"https://cdn.firebase.com/libs/firebaseui/2.4.0/firebaseui.js\"></script>',\n      '<link type=\"text/css\" rel=\"stylesheet\" href=\"https://cdn.firebase.com/libs/firebaseui/2.4.0/firebaseui.css\" />',\n      '<link type=\"text/css\" rel=\"stylesheet\" href=\"https://www.gstatic.com/firebasejs/ui/2.4.0/firebase-ui-auth.css\" />'\n    ];\n    \n    for (index = 0; index < fbaseScripts.length; ++index) {\n        var script = document.createElement('script');\n        script.src = fbaseScripts[index];\n        script.type='text/javascript';\n        var done = false;\n        script.onload = script.onreadystatechange = function() {\n            if (!done && (!this.readyState || this.readyState == \"loaded\" || this.readyState == \"complete\")) {\n                done = true;\n            }\n        };  \n        document.getElementsByTagName(\"head\")[0].appendChild(script);\n    }\n\n    this.firebase = window.firebase || {};\n    this.firebaseui = window.firebaseui || {};\n\n    this.fbaseUi = new this.firebaseui.auth.AuthUI(this.firebase.auth());\n    this.handleSignedOutUser();\n  }\n\n  /**\n   * Displays the UI for a signed out user.\n   */\n  handleSignedOutUser () {\n    document.getElementById('user-signed-in').style.display = 'none';\n    document.getElementById('user-signed-out').style.display = 'block';\n    this.fbaseUi.start('#fbs-auth', this.getUiConfig());\n  };\n\n  getUiConfig () {\n    return {\n      'callbacks': {\n        // Called when the user has been successfully signed in.\n        'signInSuccess': function(user, credential, redirectUrl) {\n          this.handleSignedInUser(user);\n          // Do not redirect.\n          return false;\n        }\n      },\n      // Opens IDP Providers sign-in flow in a popup.\n      'signInFlow': 'popup',\n      'signInOptions': [\n        // TODO(developer): Remove the providers you don't need for your app.\n        {\n          provider: firebase.auth.GoogleAuthProvider.PROVIDER_ID,\n          scopes: ['https://www.googleapis.com/auth/plus.login']\n        },\n        {\n          provider: firebase.auth.FacebookAuthProvider.PROVIDER_ID,\n          scopes :[\n            'public_profile',\n            'email'\n          ]\n        },\n        firebase.auth.TwitterAuthProvider.PROVIDER_ID,\n        firebase.auth.GithubAuthProvider.PROVIDER_ID,\n        {\n          provider: firebase.auth.EmailAuthProvider.PROVIDER_ID,\n          // Whether the display name should be displayed in Sign Up page.\n          requireDisplayName: true\n        },\n        {\n          provider: firebase.auth.PhoneAuthProvider.PROVIDER_ID\n        }\n      ],\n      // Terms of service url.\n      'tosUrl': 'https://www.google.com'\n    };\n  }\n\n  /**\n   * Displays the UI for a signed in user.\n   * @param {!firebase.User} user\n   */\n  handleSignedInUser (user) {\n    document.getElementById('user-signed-in').style.display = 'block';\n    document.getElementById('user-signed-out').style.display = 'none';\n    document.getElementById('name').textContent = user.displayName;\n    document.getElementById('email').textContent = user.email;\n    document.getElementById('phone').textContent = user.phoneNumber;\n    if (user.photoURL){\n      document.getElementById('photo').src = user.photoURL;\n      document.getElementById('photo').style.display = 'block';\n    } else {\n      document.getElementById('photo').style.display = 'none';\n    }\n  };\n\n  /**\n   * Signout the app.\n   */\n  signOut () {\n    document.getElementById('sign-out').addEventListener('click', function() {\n      this.firebase.auth().signOut();\n    });\n  };\n\n   /**\n   * Open a popup with the FirebaseUI widget.\n   */\n  signInWithPopup () {\n    window.open(getWidgetUrl(), 'Sign In', 'width=985,height=735');\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/fbs-authentication.service.js","import FbsAuthenticationService from './fbs-authentication.service';\n\n// will not work with universal rendering angular\nif (window && !window.fbsAuthentication) {\n  window.fbsAuthentication = new FbsAuthenticationService();\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","import FbsAuthenticationService from './src';\n\n/*\n * Example of how to use the FbsSharingService\n */\n\n\n// create an instance of the fbs sharing service\nconst fbsAuthInstance = new FbsAuthenticationService();\n\n// get the share icon element\nconst authElement = document.querySelector('fbs-auth');\n\n// example of calling with configuration objects\n\n// const shareOpts = {\n//   width: '200',\n//   height: '800',\n//   isResizable: true,\n//   windowName: 'My own window name',\n// };\n\n// fbsShareInstance.mapShareToClick(shareIcons, randomArticle, shareOpts);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./index.js\n// module id = 2\n// module chunks = 0"],"sourceRoot":""}